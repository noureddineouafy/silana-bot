import { tmpdir } from 'os'
import path, { join } from 'path'
import {
  readdirSync,
  statSync,
  unlinkSync,
  existsSync,
  readFileSync,
  watch
} from 'fs'
let handler = async (m, { conn, usedPrefix: _p, __dirname, args, text }) => {

let ar = Object.keys(plugins)
    let ar1 = ar.map(v => v.replace('.js', ''))
    if (!text) throw `Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ø®Ø§Øµ Ø¨Ø­Ø°Ù Ø§ÙŠ Ù…ÙŠØ²Ø© ÙÙŠ Ø§Ù„Ø¨ÙˆØª Ø¨Ø´ÙƒÙ„ Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ø«Ø§Ù„ :\n*.deleteplugin* apk`
    if (!ar1.includes(args[0])) return m.reply(`*ğŸ—ƒï¸ Ø§Ù„Ù…ÙŠØ²Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©  ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø±Ø¬Ùˆ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù„Ù…ÙŠØ²Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø­Ø°ÙÙ‡Ø§ Ù…Ù† Ø§Ù„Ø¨ÙˆØª : Ø¥Ù„ÙŠÙ€Ùƒ Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ù„Ø¯ÙŠÙƒ ÙÙŠ Ø§Ù„Ø¨ÙˆØª !*\n=============================\n\n${ar1.map(v => ' ' + v).join`\n`}`)
const file = join(__dirname, '../plugins/' + args[0] + '.js')
unlinkSync(file)
conn.reply(m.chat, `ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ÙŠØ²Ø© Ø¨Ù†Ø¬Ø§Ø­\n "plugins/${args[0]}.js"`, m)
    
}
handler.help = ['deleteplugin']
handler.tags = ['owner']
handler.command = /^(deleteplugin)$/i
handler.owner = true
export default handler
